{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Pinecone","text":"<p>A bundler for multi-file PineScript development. Write modular PineScript code across multiple files and bundle them into a single TradingView-compatible script.</p>"},{"location":"#why-pinecone","title":"Why Pinecone?","text":"<p>TradingView's PineScript doesn't support importing code from other files. As your indicators and strategies grow, maintaining everything in a single file becomes painful.</p> <p>Pinecone solves this by letting you:</p> <ul> <li>Split your code into multiple files</li> <li>Import and export functions between files</li> <li>Bundle everything into a single TradingView-compatible script</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Multi-file support - Organize your PineScript code across multiple files</li> <li>Import/Export system - Use familiar <code>// @import</code> and <code>// @export</code> directives</li> <li>Automatic namespacing - Prevents variable/function collisions between modules</li> <li>External import deduplication - TradingView library imports are deduplicated automatically</li> <li>Watch mode - Rebuild automatically when files change</li> <li>Clipboard support - Copy bundled output directly to clipboard</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<p>src/utils.pine <pre><code>//@version=5\n// @export double\n\ndouble(x) =&gt;\n    x * 2\n</code></pre></p> <p>src/main.pine <pre><code>//@version=5\n// @import { double } from \"./utils.pine\"\n\nindicator(\"My Indicator\", overlay=true)\nresult = double(close)\nplot(result)\n</code></pre></p> <p>Run the bundler: <pre><code>pinecone build\n</code></pre></p> <p>Output: dist/bundle.pine <pre><code>//@version=5\nindicator(\"My Indicator\", overlay=true)\n\n// --- Bundled modules ---\n// --- From: utils.pine ---\n__utils__double(x) =&gt;\n    x * 2\n\n// --- Main ---\nresult = __utils__double(close)\nplot(result)\n</code></pre></p>"},{"location":"#get-started","title":"Get Started","text":"<p>Ready to try it? Head to the Getting Started guide.</p>"},{"location":"cli/","title":"CLI Reference","text":"<p>Pinecone provides a command-line interface for bundling your PineScript projects.</p>"},{"location":"cli/#commands","title":"Commands","text":""},{"location":"cli/#pinecone-build","title":"pinecone build","text":"<p>Bundle your PineScript files into a single output.</p> <pre><code>pinecone build [OPTIONS]\n</code></pre>"},{"location":"cli/#options","title":"Options","text":"Option Short Description <code>--config PATH</code> <code>-c</code> Path to pine.config.json (default: ./pine.config.json) <code>--watch</code> <code>-w</code> Watch for file changes and rebuild automatically <code>--copy</code> Copy output to clipboard after build <code>--help</code> Show help message"},{"location":"cli/#examples","title":"Examples","text":"<p>Basic build: <pre><code>pinecone build\n</code></pre></p> <p>Build with custom config: <pre><code>pinecone build --config ./configs/production.json\n</code></pre></p> <p>Watch mode: <pre><code>pinecone build --watch\n</code></pre> This will watch for changes in your source files and automatically rebuild when changes are detected. Press <code>Ctrl+C</code> to stop.</p> <p>Build and copy to clipboard: <pre><code>pinecone build --copy\n</code></pre> After building, the output is automatically copied to your clipboard, ready to paste into TradingView.</p> <p>Combine options: <pre><code>pinecone build --watch --copy\n</code></pre> Watch for changes and copy to clipboard on each rebuild.</p>"},{"location":"cli/#pinecone-version","title":"pinecone --version","text":"<p>Show the current version of Pinecone.</p> <pre><code>pinecone --version\n</code></pre>"},{"location":"cli/#pinecone-help","title":"pinecone --help","text":"<p>Show help information.</p> <pre><code>pinecone --help\n</code></pre>"},{"location":"cli/#exit-codes","title":"Exit Codes","text":"Code Description 0 Success 1 Error (config not found, parse error, circular dependency, etc.)"},{"location":"cli/#error-messages","title":"Error Messages","text":""},{"location":"cli/#config-file-not-found","title":"Config file not found","text":"<pre><code>Error: Config file not found. Create a pine.config.json file with 'entry' and 'output' fields.\n</code></pre> <p>Solution: Create a <code>pine.config.json</code> file or use <code>--config</code> to specify the path.</p>"},{"location":"cli/#entry-file-not-found","title":"Entry file not found","text":"<pre><code>Error: Entry file not found: src/main.pine\n</code></pre> <p>Solution: Check that the <code>entry</code> path in your config is correct.</p>"},{"location":"cli/#module-not-found","title":"Module not found","text":"<pre><code>Error: Module not found: ./utils.pine\n</code></pre> <p>Solution: Check that the import path is correct and the file exists.</p>"},{"location":"cli/#export-not-found","title":"Export not found","text":"<pre><code>Error: Name 'foo' is not exported from ./utils.pine\n</code></pre> <p>Solution: Add <code>// @export foo</code> to the target file.</p>"},{"location":"cli/#circular-dependency","title":"Circular dependency","text":"<pre><code>Error: Circular dependency detected: a.pine \u2192 b.pine \u2192 a.pine\n</code></pre> <p>Solution: Refactor your code to break the circular dependency.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>Pinecone uses a <code>pine.config.json</code> file to configure your project.</p>"},{"location":"configuration/#config-file-location","title":"Config File Location","text":"<p>By default, Pinecone looks for <code>pine.config.json</code> in the current directory. You can specify a different path using the <code>--config</code> flag:</p> <pre><code>pinecone build --config path/to/pine.config.json\n</code></pre>"},{"location":"configuration/#options","title":"Options","text":""},{"location":"configuration/#entry","title":"entry","text":"<p>Required - Path to your main PineScript entry file.</p> <pre><code>{\n  \"entry\": \"src/main.pine\"\n}\n</code></pre> <p>The path is relative to the config file location.</p>"},{"location":"configuration/#output","title":"output","text":"<p>Required - Path where the bundled output will be written.</p> <pre><code>{\n  \"output\": \"dist/bundle.pine\"\n}\n</code></pre> <p>The directory will be created if it doesn't exist.</p>"},{"location":"configuration/#complete-example","title":"Complete Example","text":"<pre><code>{\n  \"entry\": \"src/main.pine\",\n  \"output\": \"dist/bundle.pine\"\n}\n</code></pre>"},{"location":"configuration/#import-and-export-directives","title":"Import and Export Directives","text":""},{"location":"configuration/#exporting","title":"Exporting","text":"<p>Use <code>// @export</code> to mark functions for export:</p> <pre><code>//@version=5\n// @export functionName\n\nfunctionName(x) =&gt;\n    x * 2\n</code></pre> <p>Export multiple functions:</p> <pre><code>// @export foo, bar, baz\n</code></pre>"},{"location":"configuration/#importing","title":"Importing","text":"<p>Use <code>// @import</code> to import functions from other files:</p> <pre><code>// @import { functionName } from \"./path/to/file.pine\"\n</code></pre> <p>Import multiple functions:</p> <pre><code>// @import { foo, bar, baz } from \"./utils.pine\"\n</code></pre> <p>Path Requirements</p> <ul> <li>Paths must be relative (start with <code>./</code> or <code>../</code>)</li> <li>Paths must include the <code>.pine</code> extension</li> <li>Use forward slashes <code>/</code> even on Windows</li> </ul>"},{"location":"configuration/#project-structure","title":"Project Structure","text":"<p>A typical project structure:</p> <pre><code>my-project/\n\u251c\u2500\u2500 pine.config.json\n\u251c\u2500\u2500 dist/\n\u2502   \u2514\u2500\u2500 bundle.pine      # Generated output\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 main.pine        # Entry point\n    \u251c\u2500\u2500 utils/\n    \u2502   \u251c\u2500\u2500 math.pine\n    \u2502   \u2514\u2500\u2500 format.pine\n    \u2514\u2500\u2500 indicators/\n        \u251c\u2500\u2500 rsi.pine\n        \u2514\u2500\u2500 macd.pine\n</code></pre> <p>You can organize your files however you like - Pinecone will resolve all imports automatically.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will walk you through installing Pinecone and creating your first multi-file PineScript project.</p>"},{"location":"getting-started/#installation","title":"Installation","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or higher</li> <li>Git</li> </ul>"},{"location":"getting-started/#install-pinecone","title":"Install Pinecone","text":"<p>Clone the repository and install in development mode:</p> <pre><code>git clone https://github.com/claudianadalin/pinecone.git\ncd pinecone\npython -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\npip install -e .\n</code></pre> <p>Verify the installation:</p> <pre><code>pinecone --version\n</code></pre>"},{"location":"getting-started/#create-your-first-project","title":"Create Your First Project","text":""},{"location":"getting-started/#1-set-up-the-project-structure","title":"1. Set up the project structure","text":"<p>Create a new directory for your PineScript project:</p> <pre><code>mkdir my-indicator\ncd my-indicator\n</code></pre> <p>Create the following structure:</p> <pre><code>my-indicator/\n\u251c\u2500\u2500 pine.config.json\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 main.pine\n    \u2514\u2500\u2500 utils.pine\n</code></pre>"},{"location":"getting-started/#2-configure-your-project","title":"2. Configure your project","text":"<p>Create <code>pine.config.json</code> in your project root:</p> <pre><code>{\n  \"entry\": \"src/main.pine\",\n  \"output\": \"dist/bundle.pine\"\n}\n</code></pre> Field Description <code>entry</code> Path to your main PineScript file (relative to config) <code>output</code> Where to write the bundled output"},{"location":"getting-started/#3-create-a-utility-module","title":"3. Create a utility module","text":"<p>Create <code>src/utils.pine</code> with some reusable functions:</p> <pre><code>//@version=5\n// @export double, triple\n\ndouble(x) =&gt;\n    x * 2\n\ntriple(x) =&gt;\n    x * 3\n</code></pre> <p>Export Directive</p> <p>The <code>// @export</code> comment tells Pinecone which functions should be available for import by other files.</p>"},{"location":"getting-started/#4-create-your-main-file","title":"4. Create your main file","text":"<p>Create <code>src/main.pine</code>:</p> <pre><code>//@version=5\n// @import { double } from \"./utils.pine\"\n\nindicator(\"My First Bundled Indicator\", overlay=true)\n\nresult = double(close)\nplot(result, \"Doubled Close\", color=color.blue)\n</code></pre> <p>Import Directive</p> <p>The <code>// @import { ... } from \"...\"</code> syntax imports specific functions from another file. The path is relative to the current file.</p>"},{"location":"getting-started/#5-bundle-your-project","title":"5. Bundle your project","text":"<p>Run the bundler:</p> <pre><code>pinecone build\n</code></pre> <p>You should see:</p> <pre><code>\u2713 Bundled 2 module(s) \u2192 dist/bundle.pine\n</code></pre>"},{"location":"getting-started/#6-use-in-tradingview","title":"6. Use in TradingView","text":"<ol> <li>Open <code>dist/bundle.pine</code></li> <li>Copy the entire contents</li> <li>Paste into TradingView's Pine Editor</li> <li>Click \"Add to Chart\"</li> </ol> <p>Quick Copy</p> <p>Use <code>pinecone build --copy</code> to automatically copy the output to your clipboard.</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about all configuration options</li> <li>Explore the CLI commands</li> <li>Understand how the bundler works</li> </ul>"},{"location":"how-it-works/","title":"How It Works","text":"<p>This page explains what happens when you run <code>pinecone build</code>.</p>"},{"location":"how-it-works/#the-bundling-pipeline","title":"The Bundling Pipeline","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. Parse       \u2502  Read entry file and discover imports\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  2. Resolve     \u2502  Build dependency graph, detect cycles\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  3. Rename      \u2502  Prefix all identifiers to avoid collisions\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  4. Merge       \u2502  Combine modules in dependency order\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  5. Output      \u2502  Write single TradingView-compatible file\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"how-it-works/#step-1-parse","title":"Step 1: Parse","text":"<p>Pinecone reads your entry file and parses:</p> <ul> <li>PineScript AST - Using the pynescript library</li> <li>Export directives - <code>// @export functionName</code></li> <li>Import directives - <code>// @import { fn } from \"./file.pine\"</code></li> </ul>"},{"location":"how-it-works/#step-2-resolve-dependencies","title":"Step 2: Resolve Dependencies","text":"<p>Starting from the entry file, Pinecone:</p> <ol> <li>Discovers all <code>// @import</code> directives</li> <li>Recursively parses imported files</li> <li>Builds a dependency graph</li> <li>Performs topological sort (dependencies before dependents)</li> <li>Detects circular dependencies</li> </ol> <p>Example dependency graph:</p> <pre><code>main.pine\n\u251c\u2500\u2500 utils/math.pine\n\u2502   \u2514\u2500\u2500 utils/constants.pine\n\u2514\u2500\u2500 utils/format.pine\n    \u2514\u2500\u2500 utils/math.pine (already resolved)\n</code></pre> <p>Topological order: constants \u2192 math \u2192 format \u2192 main</p>"},{"location":"how-it-works/#step-3-rename-identifiers","title":"Step 3: Rename Identifiers","text":"<p>To prevent naming collisions when modules are combined, Pinecone renames all top-level identifiers in dependency modules.</p> <p>Before: <pre><code>// utils/math.pine\ndouble(x) =&gt; x * 2\nresult = 0\n</code></pre></p> <p>After: <pre><code>__utils_math__double(x) =&gt; x * 2\n__utils_math__result = 0\n</code></pre></p>"},{"location":"how-it-works/#naming-convention","title":"Naming Convention","text":"<p>The prefix is derived from the file path:</p> File Path Prefix <code>src/utils.pine</code> <code>__utils__</code> <code>src/utils/math.pine</code> <code>__utils_math__</code> <code>src/indicators/rsi.pine</code> <code>__indicators_rsi__</code>"},{"location":"how-it-works/#what-gets-renamed","title":"What Gets Renamed","text":"<ul> <li>\u2705 Variables</li> <li>\u2705 Functions</li> <li>\u2705 References to renamed identifiers</li> <li>\u274c Methods (called via dot notation, no collision risk)</li> <li>\u274c Entry file identifiers (stays as-is)</li> </ul>"},{"location":"how-it-works/#step-4-merge-modules","title":"Step 4: Merge Modules","text":"<p>Modules are merged in topological order:</p> <ol> <li>Version annotation - From entry file</li> <li>Indicator/Strategy declaration - From entry file</li> <li>External imports - Deduplicated TradingView library imports</li> <li>Dependency modules - In topological order</li> <li>Entry module code - The main script</li> </ol>"},{"location":"how-it-works/#step-5-post-processing","title":"Step 5: Post-Processing","text":"<p>Before writing the output, Pinecone applies fixes for known issues:</p>"},{"location":"how-it-works/#generic-type-syntax-fix","title":"Generic Type Syntax Fix","text":"<p>The pynescript library has a bug where generic types get malformed:</p> <pre><code>// Before (broken)\narray.new &lt; line &gt; 500\n\n// After (fixed)\narray.new&lt;line&gt;(500)\n</code></pre>"},{"location":"how-it-works/#import-deduplication","title":"Import Deduplication","text":"<p>If multiple modules import the same TradingView library, duplicates are removed:</p> <pre><code>// Multiple modules import TradingView/ta/9\n// Output contains only one import at the top:\nimport TradingView/ta/9 as ta\n</code></pre>"},{"location":"how-it-works/#example-full-pipeline","title":"Example: Full Pipeline","text":"<p>Input files:</p> <pre><code>// src/utils.pine\n//@version=5\n// @export double\ndouble(x) =&gt; x * 2\n</code></pre> <pre><code>// src/main.pine\n//@version=5\n// @import { double } from \"./utils.pine\"\nindicator(\"Test\")\nresult = double(close)\nplot(result)\n</code></pre> <p>Output:</p> <pre><code>//@version=5\nindicator(\"Test\")\n\n// --- Bundled modules ---\n// --- From: utils.pine ---\n__utils__double(x) =&gt; x * 2\n\n// --- Main ---\nresult = __utils__double(close)\nplot(result)\n</code></pre>"},{"location":"how-it-works/#performance","title":"Performance","text":"<p>Pinecone is fast because it:</p> <ul> <li>Only parses files once</li> <li>Caches the dependency graph</li> <li>Uses efficient AST transformations</li> </ul> <p>For most projects, bundling takes less than a second.</p>"}]}